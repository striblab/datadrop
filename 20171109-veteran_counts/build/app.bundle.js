!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";var o=n(1);(0,function(e){return e&&e.__esModule?e:{default:e}}(o).default)({}),d3.json("./data/cohorts.json",function(e,t){function n(e){for(var t,n,o,i,a,s,l,u,c,f,d,p,y,h,v,m,g,w,_,b,W,P,I,O,V,j,G,k,C,K,z,x,S,T=0;T<r.length;T++)e==r[T].Year&&(t=r[T].TotalVets,n=r[T].WWII_Total,o=r[T].WWII_Total/t*100,i=r[T].Korean_Total,a=r[T].Korean_Total/t*100,s=r[T].Vietnam_Total,l=r[T].Vietnam_Total/t*100,u=r[T].GulfPre_Total,c=r[T].GulfPre_Total/t*100,f=r[T].GulfPost_Total,d=r[T].GulfPost_Total/t*100,p=r[T].Peace_PreWWII,y=r[T].Peace_PreWWII/t*100,h=r[T].Peace_WWII_KC,v=r[T].Peace_WWII_KC/t*100,m=r[T].Peace_KC_Viet,g=r[T].Peace_KC_Viet/t*100,w=r[T].Peace_Viet_Gulf,_=r[T].Peace_Viet_Gulf/t*100,b=r[T].Peace_PostGulf,W=r[T].Peace_PostGulf/t*100,P=r[T].OL_WWII_KC,I=r[T].OL_WWII_KC/t*100,O=r[T].OL_WWII_KC_Viet,V=r[T].OL_WWII_KC_Viet/t*100,j=r[T].OL_WWII_KC_Viet,G=r[T].OL_WWII_KC_Viet/t*100,k=r[T].OL_KC_Viet,C=r[T].OL_KC_Viet/t*100,K=r[T].OL_Viet_GulfPre_GulfPost,z=r[T].OL_Viet_GulfPre_GulfPost/t*100,x=r[T].OL_GulfPre_GulfPost,S=r[T].OL_GulfPre_GulfPost/t*100,console.log(W+" "+V)),$("#count").html(d3.format(",")(t));return[{sets:["Pre-WWII Peace"],figure:p,label:"Pre-WWII Peace",size:y,type:"peace"},{sets:["WWII"],figure:n,label:"World War II",size:o,type:"blue4"},{sets:["WWII-Korea Peace"],figure:h,label:"WWII-Korea Peace",size:v,type:"peace"},{sets:["WWII","Korea"],figure:P,label:"World War II and Korean War",size:I,type:"war"},{sets:["WWII","Vietnam"],figure:O,label:"World War II, Korean War and Vietnam War",size:V,type:"war"},{sets:["Korea"],figure:i,label:"Korean War",size:a,type:"green3"},{sets:["Korea-Vietnam Peace"],figure:m,label:"Korea-Vietnam Peace",size:g,type:"peace"},{sets:["Vietnam"],figure:s,label:"Vietnam War",size:l,type:"red4"},{sets:["Vietnam-Gulf Peace"],figure:w,label:"Vietnam-Gulf Peace",size:_,type:"peace"},{sets:["Gulf"],figure:u,label:"Gulf War",size:c,type:"orange3"},{sets:["Post-9/11"],figure:f,label:"Post 9/11 Wars",size:d,type:"purple3"},{sets:["Korea","Vietnam"],figure:j,label:"Korean War and Vietnam War",size:G,type:"war"},{sets:["Vietnam","Gulf"],figure:k,label:"Vietnam-Gulf Peace and Gulf War",size:C,type:"war"},{sets:["Vietnam","Post-9/11"],figure:K,label:"Vietnam War, Gulf War and Post 9/11 Wars",size:z,type:"war"},{sets:["Gulf","Post-9/11"],figure:x,label:"Gulf War and Post 9/11 Wars",size:S,type:"war"},{sets:["Post-9/11 Peace"],figure:b,label:"Post-9/11 Peace",size:W,type:"peace"}]}function o(e){console.log(e),u.datum(n(e)).call(l)}var r=t.cohorts,i=2016,a=$("#vennSVG"),s=$("#venn").width();a.attr("width",s),a.attr("height",s/1.2),$(window).width()<=420&&$("#vennSVG").attr("viewBox","0 0 500 400"),$(window).on("resize",function(){var e=$("#venn").width();a.attr("width",e),a.attr("height",e/1.2)}),$("#slider").on("mousemove change",function(){$("#year").html($("#slider").val()),i=$("#slider").val(),o($("#slider").val())}),$("#plus").on("click",function(){i<2045&&(i++,$("#slider").val(i),$("#year").html($("#slider").val()),o($("#slider").val()))}),$("#minus").on("click",function(){i>2016&&(i--,$("#slider").val(i),$("#year").html($("#slider").val()),o($("#slider").val()))});var l=venn.VennDiagram().width(500).height(400),u=d3.select("#venn svg").datum(n(2016)).call(l);u.selectAll("text").style("fill","white"),u.selectAll(".venn-circle path").attr("class",function(e){return"peace"==e.type?"peace":e.type}).style("fill-opacity",.8).style("stroke-width",1).style("stroke-opacity",1).style("stroke","fff");var c=d3.select("#venn").append("div").attr("class","venntooltip");u.selectAll("g").on("mouseover",function(e,t){venn.sortAreas(u,e),c.transition().duration(40).style("opacity",1),c.html("<div>"+e.label+"</div><div>"+d3.format(",.0f")(e.figure)+" living MN veterans</div>"),d3.select(this).transition("tooltip").duration(1e3).select("path").style("stroke-width",3).style("fill-opacity",1).style("stroke-opacity",1)}).on("mousemove",function(){c.style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(e,t){c.transition().duration(2e3).style("opacity",0),d3.select(this).transition("tooltip").duration(1e3).select("path").style("stroke-width",3).style("fill-opacity",1==e.sets.length?.8:0).style("stroke-opacity",1)})})},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t){o(this,e),this.options=t||{},this.options.pym=void 0===this.options.pym||this.options.pym,this.options.useView=void 0===this.options.useView||this.options.useView,this.options.views=this.options.views||{develop:/localhost.*|127\.0\.0\.1.*/i,staging:/staging/i},this.parseQuery(),this.setView(),this.options.pym&&(this.pym=_.isUndefined(window.pym)?void 0:new pym.Child({polling:500}))}return r(e,[{key:"setView",value:function(){if(this.options.useView){var e=void 0;if(_.find(this.options.views,function(t,n){return e=n,window.location.href.match(t)?n:void 0}),e){var t=document.createElement("div"),n=document.getElementsByTagName("body")[0];t.className="site-view site-view-"+e,n.insertBefore(t,n.childNodes[0])}}}},{key:"parseQuery",value:function(){this.query=a.default.parse(document.location.search),this.query.pym&&"true"===this.query.pym&&(this.options.pym=!0)}},{key:"deepClone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"isEmbedded",value:function(){if(!_.isUndefined(this.embedded))return this.embedded;try{this.embedded=window.self!==window.top}catch(e){this.embedded=!0}return this.embedded}},{key:"hasLocalStorage",value:function(){if(!_.isUndefined(this.localStorage))return this.localStorage;try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),this.localStorage=!0}catch(e){this.localStorage=!1}return this.localStorage}},{key:"hasGeolocate",value:function(){return window.navigator&&"geolocation"in window.navigator}},{key:"geolocate",value:function(e){this.hasGeolocate()?window.navigator.geolocation.getCurrentPosition(function(t){e(null,{lat:t.coords.latitude,lng:t.coords.longitude})},function(){e("Unable to find your position.")}):e("Geolocation not available")}},{key:"goTo",value:function(e){var t=_.isElement(e)?e:e[0]&&_.isElement(e[0])?e[0]:document.getElementById(e);t&&(this.isEmbedded()&&this.pym?this.pym.scrollParentToChildEl(t):t.scrollIntoView({behavior:"smooth"}))}},{key:"gaPageUpdate",value:function(e){e=e||document.location.pathname+document.location.search+document.location.hash,window.ga&&(window.ga("set","page",e),window.ga("send","pageview"))}}]),e}();t.default=function(e){return new s(e)}},function(e,t,n){"use strict";function o(e){switch(e.arrayFormat){case"index":return function(t,n,o){return null===n?[i(t,e),"[",o,"]"].join(""):[i(t,e),"[",i(o,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}function r(e){var t;switch(e.arrayFormat){case"index":return function(e,n,o){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(o[e]=n);void 0===o[e]&&(o[e]={}),o[e][t[1]]=n};case"bracket":return function(e,n,o){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===o[e]?void(o[e]=[n]):void(o[e]=[].concat(o[e],n)):void(o[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function i(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(3),l=n(4);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=l({arrayFormat:"none"},t);var n=r(t),o=Object.create(null);return"string"!=typeof e?o:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(r),i,o)}),Object.keys(o).sort().reduce(function(e,t){var n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e},Object.create(null))):o},t.stringify=function(e,t){t=l({encode:!0,strict:!0,arrayFormat:"none"},t);var n=o(t);return e?Object.keys(e).sort().map(function(o){var r=e[o];if(void 0===r)return"";if(null===r)return i(o,t);if(Array.isArray(r)){var a=[];return r.slice().forEach(function(e){void 0!==e&&a.push(n(o,e,a.length))}),a.join("&")}return i(o,t)+"="+i(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}}]);
//# sourceMappingURL=app.bundle.js.map