!function t(e,r,i){function o(n,s){if(!r[n]){if(!e[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(a)return a(n,!0);throw new Error("Cannot find module '"+n+"'")}var c=r[n]={exports:{}};e[n][0].call(c.exports,function(t){var r=e[n][1][t];return o(r||t)},c,c.exports,t,e,r,i)}return r[n].exports}for(var a="function"==typeof require&&require,n=0;n<i.length;n++)o(i[n]);return o}({1:[function(t,e,r){d3.json("./shapefiles/national_parks.json",function(t,e){d3.csv("./data/visitors.csv",function(t){return{state:t.STATE,name:t.NICKNAME,type:t.TYPE,fullname:t.FULLPARKNAME,code:t.UnitCode,year:t.YEAR,visitors:t.VISITORS}},function(t,r){d3.csv("./data/parks.csv",function(t){return{state:t.STATE,name:t.NICKNAME,type:t.TYPE,fullname:t.FULLPARKNAME,code:t.UnitCode,latitude:t.Latitude,longitude:t.Longitude}},function(t,i){function o(t){var e=[],r=[];e[0]="x";for(var i=1,o=1930;o<2016;o++)e[i]=o,r[i]=0,i++;$("#parkname").html(t);var n=!1;r[0]="Visitors";for(var s=0,l=0;l<a.length;l++)if(t==a[l].name){n=!0,s=l;for(var c=1;c<r.length&&a[s].name==t;c++)e[c]==a[s].year&&(r[c]=a[s].visitors,$("#visitors").html(d3.format(",")(a[s].visitors)),$("#year").html(a[s].year),s++)}if(1==n){var u={top:20,right:60,bottom:20,left:80};c3.generate({bindto:"#chart",padding:u,data:{x:"x",columns:[e,r],type:"line"},color:{pattern:["#66AF50"]},axis:{y:{min:0,padding:{bottom:0},tick:{count:4,format:d3.format(",.0f")}},x:{tick:{values:["1930","1950","1990","2015"],count:4,multiline:!1}}}})}}var a=r,n=i;d3.select("#parksList").selectAll(".switch").data(n).enter().append("div").attr("class",function(t){return"switch"}).attr("latitude",function(t){return t.latitude}).attr("longitude",function(t){return t.longitude}).html(function(t){return t.name}),$("#filter_box").keyup(function(t){$(".switch").hide();var e=$("#filter_box").val();$(".switch").each(function(){$(this).text().toUpperCase().indexOf(e.toUpperCase())!=-1&&$(this).show()})}),$(".switch").click(function(){$(".switch").removeClass("selected"),$(this).addClass("selected"),s.flyTo({center:[$(this).attr("longitude"),$(this).attr("latitude")],zoom:9}),o($(this).text())}),mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var s=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/cilea5110001ra8ktm7409xze",center:[-95.689444,39.055833],zoom:2,minZoom:2});s.scrollZoom.disable(),s.on("load",function(){$(".zoom").click(function(){return s.flyTo({center:[-95.689444,39.055833],zoom:2}),$(".switch").removeClass("selected"),$(".switch").show(),$(".switch").first().addClass("selected"),o("Abraham Lincoln Birthplace"),$("#parksList").animate({scrollTop:0},800),$("#filter input").val(""),!1}),s.addSource("parks",{type:"geojson",data:e}),s.addLayer({id:"shape-layer",interactive:!0,type:"fill",source:"parks",paint:{"fill-antialias":!0,"fill-opacity":.5,"fill-color":"#66AF50","fill-outline-color":"#66AF50"}})});var l=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});s.on("mousemove",function(t){var e=s.queryRenderedFeatures(t.point,{layers:["shape-layer"]});if(s.getCanvas().style.cursor=e.length?"pointer":"",!e.length)return void l.remove();var r=e[0];l.setLngLat(t.lngLat).setHTML(r.properties.UNIT_NAME).addTo(s)}),o("Abraham Lincoln Birthplace"),$(".switch").first().addClass("selected")})})})},{}]},{},[1]);