
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C3 Chart Template</title>
  <meta name="description" content="C3 Chart Template">
  <meta name="author" content="Frey Hargarten - StarTribune">
    
  <link href="../_common_resources/charts/c3-master/c3.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../_common_resources/styles/startribune_dataviz_styles.css" />

  <style>

  </style>
</head>
<body>

<div class="chartHeader chartTitle">Minnesota Temperatures by Day 2015</div>
<div id='tempsChart'></div>
<div class="chartFooter">
  <div class="sources">Source: National Weather Service</div>
  <div class="branding"><a href="http://startribune.com/datadrop">startribune.com/datadrop</a></div>
</div>
<a href="https://docs.google.com/spreadsheets/d/1-2zKGGKgPe9Xer1MrRBI74Zy5TUi15HuZShdT-eJFFs/pub?output=xlsx" target="new_"><button class="downloadButton">&nbsp;Download data</button></a>

</body>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="../_common_resources/charts/c3-master/c3.min.js"></script>

<script>
d3.json("https://script.googleusercontent.com/macros/echo?user_content_key=Kor1VwDOmGgoy_JfeRUxKiQ27I6lkP3BrUSasfwBKdeItoWcKZ_ijnXzzah4FKqUuAOdANrkFI0v2QzIHhbNAxig1ykYg_tjOJmA1Yb3SEsKFZqtv3DaNYcMrmhZHmUMWojr9NvTBuBLhyHCd5hHaxCoMjMSmZWLp6XAShvjQj50JtCfh4yP7n1RnEoDeOH7XqmOXgX8RYIyMAhIAtjnF9UDzNXGLr6TuemWiCPnYU3v6YF6IJkSFYyyTJG-HL6oSfmK20SEw86uyLwhxRZulMt4JgiTXzIzGetL3GQdFGtzSS3bVLNjDS7AWuiHuzI1&lib=MVcLnEUipyThKZcpmQKyqT_CoSfd4egCX", function(error, dataLoad2015) {

var data = dataLoad2015.weather2015;

var  padding = {
        top: 40,
        right: 40,
        bottom: 30,
        left: 40,
    };

var chartTemps = c3.generate({
        bindto: '#tempsChart',
        padding: padding,
        data: {
            json: data,
            keys: {
                x: 'DATE1',
                value: ['Tmax','Tmin','Tavg','Avg30yearHigh','Avg30yearLow']
            },
            names: {
              'Tmax': 'Max Temp',
              'Tmin': 'Min Temp',
              'Tavg': 'Average Temp',
              'Avg30yearHigh': '30-Year High',
              'Avg30yearLow': '30-Year Low'
            },
            types: {
            'Tmax': 'line',
            'Tmin': 'line',
            'Tavg': 'line',
            'Avg30yearHigh': 'bar',
            'Avg30yearLow': 'bar'
            }
        },
       bar: {
        width: {
            ratio: 0.5 // this makes bar width 50% of length between ticks
        }
      },
        axis: {
          y: {
            tick: {
             values: ['-23', '0', '20', '40', '60', '80'],
             format: d3.format('r')
            }
        },
        x: {
            type: 'timeseries',
            tick: {
                format: '%Y-%m-%d',
                count: 4,
                multiline: false
            }
          }
        },
      subchart: { show: true },
        color: { pattern: ['#801515', '#E7A9A9', '#333','#fbdfe7','#b8d3ea'] },
    });

});
</script>

</body>
</html>