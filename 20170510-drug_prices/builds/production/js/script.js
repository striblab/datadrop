!function e(t,r,a){function n(l,i){if(!r[l]){if(!t[l]){var c="function"==typeof require&&require;if(!i&&c)return c(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+l+"'")}var u=r[l]={exports:{}};t[l][0].call(u.exports,function(e){var r=t[l][1][e];return n(r||e)},u,u.exports,e,t,r,a)}return r[l].exports}for(var o="function"==typeof require&&require,l=0;l<a.length;l++)n(a[l]);return n}({1:[function(e,t,r){$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]||0:null};var a=$.urlParam("chart");null!=a&&($(".slide").hide(),$("#"+a).show()),d3.csv("./data/drugs.csv",function(e){return{brand:e.brand,year:+e.year,generic:e.generic,original:e.original,amount:+e.amount}},function(e,t){function r(e,r){var l=!1;o[0]="Price";for(var i=0,c=0;c<a.length;c++)if(e==a[c].brand||e==a[c].generic){console.log(e+" "+a[c].brand),l=!0,i=c;for(var u=1;u<o.length&&(e==a[c].brand||e==a[c].generic);u++)n[u]==a[i].year&&(o[u]=a[i].amount,$("#rate").html(a[i].amount),$("#year").html(a[i].year),i++)}if(1==l){var d={top:20,right:60,bottom:20,left:60};$(".pctchange").removeClass("neg"),$(".pctchange").removeClass("pos");var s=(o[5]-o[1])/o[1];$("#price").html(d3.format("$,.0f")(o[5])),$(".pctchange").html(d3.format("+%")(s)),s<0?$(".pctchange").addClass("neg"):s>0?$(".pctchange").addClass("pos"):($(".pctchange").removeClass("neg"),$(".pctchange").removeClass("pos"));c3.generate({bindto:"#chart",padding:d,data:{x:"x",columns:[n,o],type:"line"},legend:{show:!1},color:{pattern:[r]},axis:{y:{min:0,padding:{bottom:0},tick:{count:4,format:d3.format("$,.0f")}},x:{tick:{values:["2011","2012","2013","2014","2015"],count:5,multiline:!1}}},tooltip:{contents:function(e,r,a,n){var o,l,i,c,u,d,s=this,f=s.config,m=f.tooltip_format_title||r,h=f.tooltip_format_name||function(e){return e},p=f.tooltip_format_value||a;for(l=0;l<e.length;l++)if(e[l]&&(e[l].value||0===e[l].value)){o||(i=m?m(e[l].x):e[l].x,o="<table class='"+s.CLASS.tooltip+"'>"+(i||0===i?"<tr><th colspan='2'>"+i+"</th></tr>":""));u=h(e[l].name),c=p(e[l].value,e[l].ratio,e[l].id,e[l].index),d=s.levelColor?s.levelColor(e[l].value):n(e[l].id);for(var v=0;v<t.length;v++)if(t[v].brand==u&&t[v].year==Number(i)){t[v].amount;break}o+="<tr class='"+s.CLASS.tooltipName+"-"+e[l].id+"'>",o+="<td class='name'><span style='background-color:"+d+"'></span>Price</td>",o+="<td class='value'>"+c+"</td>",o+="</tr>"}return o+"</table>"}}})}else $("#current").html("Name not found")}var a=t,n=[],o=[];n[0]="x";for(var l=1,i=2011;i<2016;i++)n[l]=i,o[l]=0,l++;if($.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]:0},0!=$.urlParam("name")){var c=$.urlParam("name").toUpperCase();$(".named").html(decodeURI(c)),r(decodeURI(c),"#333333"),"EPIPEN 2-PAK"!=decodeURI(c)&&$(".chartSwitcher").removeClass("selected")}$(document).ready(function(){$(".chartSwitcher").click(function(){$(".chartSwitcher").removeClass("selected"),$(this).addClass("selected");var e=$(this).text();$(".named").html(e.toUpperCase()),r(decodeURI(e.toUpperCase()),"#333333")}),$("#filter_box").keyup(function(e){13==e.keyCode&&(window.location.href="./?name="+$("#filter_box").val())})})})},{}]},{},[1]);