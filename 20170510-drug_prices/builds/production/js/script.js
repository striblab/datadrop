!function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!u&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){var n=t[a][1][e];return o(n||e)},s,s.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(e,t){return t=t||2,"$"+Math.floor(e*Math.pow(10,t))/Math.pow(10,t)}function o(e,t){return t=t||2,'<span class="'+(e>0?"positive":0===e?"":"negative")+'">'+(e>0?"+":0===e?"":"-")+Math.round(e*Math.pow(10,t))/Math.pow(10,t)+"%</span>"}$(document).ready(function(){function e(){var e=$("#drug-search-input");e.autocomplete({minLength:3,source:n.map(function(e){return{value:e.id,label:e.brand+" / "+e.generic}}),select:function(n,r){n.preventDefault(),e.val(r.item.label),r.item.value&&t(r.item.value)}})}function t(e){var t=$(".drug-details");if(e!==i){i=e;var a=n.find(function(t){return t.id===e});if(!a)return void console.error("Unable to find data for id: "+e);var u=["2011","2012","2013","2014","2015"],l=a.perUser.find(function(e){return 2015===e.year}),s=a.perUser.find(function(e){return 2011===e.year});t.find(".brand-name").html(a.brand),t.find(".generic-name").html(a.generic),t.find(".per-user-2015").html(r(l.amount)),t.find(".per-user-change").html(o((l.amount-s.amount)/s.amount*100,1)),t.find(".has-different-names").toggle(!a.same),t.find(".per-user-full").toggle(!!a.perUserFull),t.find(".not-per-user-full").toggle(!a.perUserFull),$(".drug-switch").removeClass("active"),$('[data-id="'+e+'"]').addClass("active");c3.generate({bindto:"#chart",padding:{top:20,right:60,bottom:20,left:60},data:{x:"x",columns:[["x"].concat(u),["Amount per user"].concat(a.perUser.map(function(e){return e.amount}))],type:"line"},legend:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0},tick:{count:4,format:d3.format("$,.0f")},label:{text:"Average cost per person",position:"outer-middle"}},x:{padding:{left:.25,right:.25}}},tooltip:{contents:function(e,t,n,r){return'<div class="chart-tooltip"><span class="tooltip-label">'+e[0].x+':</span><span class="tooltip-value">'+n(e[0].value)+"</span></div>"}}})}}var n,i;jQuery.ui.autocomplete.prototype._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())},d3.json("./data/drug-spending.json",function(r,o){if(r)return void console.error(r);n=o,e(),t("epipen-2-pak"),$(".drug-switch").on("click",function(){var e=$(this).data("id");e&&($("#drug-search-input").val(""),t(e))})})})},{}]},{},[1]);