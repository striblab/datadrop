!function e(n,t,r){function i(a,u){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!u&&d)return d(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=t[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return i(t||e)},f,f.exports,e,n,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,t){function r(e,n){return n=n||2,"$"+Math.floor(e*Math.pow(10,n))/Math.pow(10,n)}function i(e,n){return n=n||2,'<span class="'+(e>0?"positive":0===e?"":"negative")+'">'+(e>0?"+":0===e?"":"-")+Math.round(e*Math.pow(10,n))/Math.pow(10,n)+"%</span>"}$(document).ready(function(){function e(){var e=$("#drug-search-input");e.autocomplete({minLength:3,source:t.map(function(e){return{value:e.id,label:e.brand+" / "+e.generic}}),select:function(t,r){t.preventDefault(),e.val(r.item.label),r.item.value&&n(r.item.value)}})}function n(e){var n=$(".drug-details");if(e!==o){o=e;var a=t.find(function(n){return n.id===e});if(!a)return void console.error("Unable to find data for id: "+e);var u=["2011","2012","2013","2014","2015"],d=a.perUser.find(function(e){return 2015===e.year}),f=a.perUser.find(function(e){return 2011===e.year});n.find(".brand-name").html(a.brand),n.find(".generic-name").html(a.generic),n.find(".per-user-2015").html(r(d.amount)),n.find(".per-user-change").html(i((d.amount-f.amount)/f.amount*100,1)),n.find(".has-different-names").toggle(!a.same),n.find(".per-user-full").toggle(!!a.perUserFull),n.find(".not-per-user-full").toggle(!a.perUserFull),$(".drug-switch").removeClass("active"),$('[data-id="'+e+'"]').addClass("active");c3.generate({bindto:"#chart",padding:{top:20,right:60,bottom:20,left:60},data:{x:"x",columns:[["x"].concat(u),["Amount per user"].concat(a.perUser.map(function(e){return e.amount}))],type:"line"},legend:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0},tick:{count:4,format:d3.format("$,.0f")}},x:{padding:{left:.25,right:.25}}}})}}var t,o;jQuery.ui.autocomplete.prototype._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())},d3.json("./data/drug-spending.json",function(r,i){if(r)return void console.error(r);t=i,e(),n("epipen-2-pak"),$(".drug-switch").on("click",function(){var e=$(this).data("id");e&&($("#drug-search-input").val(""),n(e))})})})},{}]},{},[1]);