!function t(e,r,o){function a(s,i){if(!r[s]){if(!e[s]){var l="function"==typeof require&&require;if(!i&&l)return l(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return a(r||t)},c,c.exports,t,e,r,o)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)a(o[s]);return a}({1:[function(t,e,r){$.urlParam=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null!=e?e[1]||0:null};var o=$.urlParam("chart");null!=o&&($(".slide").hide(),$("#"+o).show()),d3.json("./data/counties1860.json",function(t,e){d3.json("./data/counties1870.json",function(t,r){function o(t,e,r){return"<div class='districtName'>"+t.properties.NHGISNAM+" County</div><div class='population'>"+d3.format(",")(t.properties.TotalPop)+" people</div>"}function a(t,e,r,a,n,s,i,l){function c(t){if(t&&p!==t){var e=v.centroid(t);e[0],e[1],1,p=t}else d/2,u/2,1,p=null;m.selectAll("path").classed("faded",!1).classed("active",p&&function(t){return t===p})}var p,d=320,u=400;if("us"==s)var f=d3.geo.albersUsa().scale(700).translate([330,200]);else if("mn"==s)var f=d3.geo.albersUsa().scale(5037).translate([50,970]);else if("metro"==s)var f=d3.geo.mercator().scale([16800]).center([-92.384033,45.209134]);var v=d3.geo.path().projection(f),h=d3.select(t+" svg").attr("width",d).attr("height",u);h.append("rect").attr("class","background").attr("width",d).attr("height",u);var m=h.append("g");d3.json("shapefiles/"+a,function(t,e){m.append("g").attr("class","states").selectAll("path").data(e.features).enter().append("path").attr("d",v).attr("id",function(t){return(s+"_"+t.properties.DISTRICT).replace(new RegExp(" ","g"),"-")}).attr("precinctName",function(t){return t.properties.DISTRICT}).attr("class",function(t){return t.properties.TotalPop>=9e3?"gray5":t.properties.TotalPop>=6e3?"gray4":t.properties.TotalPop>=4e3?"gray3":t.properties.TotalPop>=2e3?"gray2":t.properties.TotalPop>=0?"gray1":void 0}).style("stroke-width","1px").style("stroke","#fff").call(d3.helper.tooltip(function(t,e){return o(t,n,i)})),m.append("path").attr("id","state-borders").attr("d",v)});d3.behavior.zoom().on("zoom",function(){m.attr("transform","translate("+d3.event.translate.join(",")+")scale("+d3.event.scale+")"),m.selectAll("circle").attr("d",v.projection(f)),m.selectAll("path").attr("d",v.projection(f))});$(".zoom, .switch, #close, .mapSwitch").click(function(){c(),$("#filter input").val(""),$(".district").removeClass("selected"),$("#infobox").hide(),d3.selectAll(".map rect").classed("faded",!1),d3.selectAll(".map rect").classed("active",!1),$(".rightSide").show()}),$(".mapSwitch").click(function(){$("#filter input").val("")})}data1860=e.counties,data1870=r.counties,d3.helper={},d3.helper.tooltip=function(t){return function(e){var r,o=d3.select("body").node();e.on("mouseover",function(e,a){d3.select("body").selectAll("div.tooltip").remove(),r=d3.select("body").append("div").attr("class","tooltip");var n=d3.mouse(o);r.style("left",n[0]+10+"px").style("top",n[1]-15+"px").style("position","absolute").style("z-index",1001);t(e,a)}).on("mousemove",function(e,a){var n=d3.mouse(o);r.style("left",n[0]+10+"px").style("top",n[1]-15+"px");var s=t(e,a)||"";r.html(s)}).on("mouseout",function(t,e){r.remove()})}},a("#map1860","#infobox","#chart","mn1860.json","house","mn",data1860,0),a("#map1870","#infobox","#chart","mn1870.json","house","mn",data1870,0)})})},{}]},{},[1]);