!function e(n,t,r){function i(o,c){if(!t[o]){if(!n[o]){var l="function"==typeof require&&require;if(!c&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var a=t[o]={exports:{}};n[o][0].call(a.exports,function(e){var t=n[o][1][e];return i(t||e)},a,a.exports,e,n,t,r)}return t[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,n,t){d3.json("./data/schools.json",function(e,n){function t(e,n,t,r,i){d3.select(e).selectAll(".row").sort(function(e,n){if("name"==r){if("descend"==i)return d3.descending(e.districtname,n.districtname);if("ascend"==i)return d3.ascending(e.districtname,n.districtname)}if("change"==r){if("descend"==i)return d3.descending(e.EnrollChange,n.EnrollChange);if("ascend"==i)return d3.ascending(e.EnrollChange,n.EnrollChange)}if("type"==r){if("descend"==i)return d3.descending(e.DistrictType,n.DistrictType);if("ascend"==i)return d3.ascending(e.DistrictType,n.DistrictType)}if("district"==r){if("descend"==i)return d3.descending(e.districtname,n.districtname);if("ascend"==i)return d3.ascending(e.districtname,n.districtname)}}).transition().duration(500)}var r=n.schools;d3.select("#schools").selectAll(".row").data(r.sort(function(e,n){return n.EnrollChange-e.EnrollChange})).enter().append("div").attr("class",function(e){return"NORTH ACADEMY ARTS/COMMUNICATION"==e.schoolname?"row selected":"row"}).style("background-color",function(e){return null==e.Enr1213?"#999999":d3.scale.linear().domain([-1,0,5]).range(["#F21919","#F1D9CB","#57B857"])(e.EnrollChange)}).on("mousedown",function(e){if(null==e.Enr1213)color="#999999";else{var n=d3.scale.linear().domain([-1,0,5]).range(["#F21919","#F1D9CB","#57B857"]);color=n(e.EnrollChange)}$("#districtName").html(e.schoolname),$("#districtName").css("background-color",color),$("#district").html("District: "+e.districtname),$("#grades").html("Grades: "+e.grades),o.load({columns:[["Enrolled",e.Enr1213,e.Enr1314,e.Enr1415,e.Enr1516,e.Enr1617]]})}).html(function(e,n){var t=d3.format("+%")(e.EnrollChange);return null==e.Enr1213&&(t="--"),"<div class='col type mobilekill'>"+e.DistrictType+"</div><div class='col district mobilekill'>"+e.districtname+"</div><div class='col name'>"+e.schoolname+"</div><div class='col score'>"+t+"</div>"}),$(document).ready(function(){$(".zoom").click(function(){return $("#schools").animate({scrollTop:0},800),!1}),$("#filter_box").on("keyup search",function(e){$(".row").hide();var n=$("#filter_box").val();$(".row").each(function(){$(this).text().toUpperCase().indexOf(n.toUpperCase())!=-1&&$(this).show()});var t=$(".row:visible").length;$("#results").html(d3.format(",")(t))}),$(".row").click(function(){$(".row").removeClass("selected"),$(this).addClass("selected")}),$(".th").click(function(){if($(".th").removeClass("selected3"),$(this).addClass("selected3"),$(this).hasClass("toggled")){$(this).removeClass("toggled");var e="ascend"}else if($(this).hasClass("selected3")){$(this).addClass("toggled");var e="descend"}t("#schools",null,r,$(this).attr("data"),e)})});var i=r.filter(function(e){return"NORTH ACADEMY ARTS/COMMUNICATION"==e.schoolname});$("#districtName").html(i[0].schoolname),$("#districtName").css("background-color","rgb(84, 183, 85)"),$("#district").html("District: "+i[0].districtname),$("#grades").html("Grades: "+i[0].grades);var s={top:40,right:40,bottom:30,left:40},o=c3.generate({bindto:"#chart",padding:s,data:{columns:[["Enrolled",i[0].Enr1213,i[0].Enr1314,i[0].Enr1415,i[0].Enr1516,i[0].Enr1617]],colors:{Enrolled:"#333333"}},legend:{show:!1},axis:{y:{min:0,padding:{bottom:0,top:10},tick:{count:4,format:d3.format(",.0f")}},x:{type:"category",categories:["12-13","13-14","14-15","15-16","16-17"],label:"Enrollment over time"}}})})},{}]},{},[1]);